<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Url (js_of_ocaml.Js_of_ocaml__.Url)</title><link rel="stylesheet" href="../../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 1.5.1"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> â€“ <a href="../../index.html">js_of_ocaml</a> &#x00BB; <a href="../index.html">Js_of_ocaml__</a> &#x00BB; Url</nav><h1>Module <code>Js_of_ocaml__.Url</code></h1></header><aside><p>This module provides functions for tampering with Url. It's main goal is to allow one to stay in the Ocaml realm without wandering into the <a href="../Dom_html/class-type-window/index.html"><code>Dom_html.window</code></a>##.location object.</p></aside><aside><p>The first functions are mainly from and to string conversion functions for the different parts of a url.</p></aside><dl><dt class="spec value" id="val-urldecode"><a href="#val-urldecode" class="anchor"></a><code><span class="keyword">val</span> urldecode : string <span>&#45;&gt;</span> string</code></dt><dd><p><code>urldecode s</code> swaps percent encoding characters for their usual representation.</p></dd></dl><dl><dt class="spec value" id="val-urlencode"><a href="#val-urlencode" class="anchor"></a><code><span class="keyword">val</span> urlencode : <span>?&#8288;with_plus:bool</span> <span>&#45;&gt;</span> string <span>&#45;&gt;</span> string</code></dt><dd><p><code>urlencode ?with_plus s</code> replace characters for their percent encoding representation. Note that the '/' (slash) character is escaped as well. If <code>with_plus</code> is <code>true</code> (default) then <code>'+'</code>'s are escaped as <code>&quot;%2B&quot;</code>. If not, <code>'+'</code>'s are left as is.</p></dd></dl><dl><dt class="spec type" id="type-http_url"><a href="#type-http_url" class="anchor"></a><code><span class="keyword">type</span> http_url</code><code> = </code><code>{</code><table class="record"><tr id="type-http_url.hu_host" class="anchored"><td class="def field"><a href="#type-http_url.hu_host" class="anchor"></a><code>hu_host : string;</code></td><td class="doc"><p>The host part of the url.</p></td></tr><tr id="type-http_url.hu_port" class="anchored"><td class="def field"><a href="#type-http_url.hu_port" class="anchor"></a><code>hu_port : int;</code></td><td class="doc"><p>The port for the connection if any.</p></td></tr><tr id="type-http_url.hu_path" class="anchored"><td class="def field"><a href="#type-http_url.hu_path" class="anchor"></a><code>hu_path : <span>string list</span>;</code></td><td class="doc"><p>The path split on <code>'/'</code> characters.</p></td></tr><tr id="type-http_url.hu_path_string" class="anchored"><td class="def field"><a href="#type-http_url.hu_path_string" class="anchor"></a><code>hu_path_string : string;</code></td><td class="doc"><p>The original entire path.</p></td></tr><tr id="type-http_url.hu_arguments" class="anchored"><td class="def field"><a href="#type-http_url.hu_arguments" class="anchor"></a><code>hu_arguments : <span><span>(string * string)</span> list</span>;</code></td><td class="doc"><p>Arguments as a field-value association list.</p></td></tr><tr id="type-http_url.hu_fragment" class="anchored"><td class="def field"><a href="#type-http_url.hu_fragment" class="anchor"></a><code>hu_fragment : string;</code></td><td class="doc"><p>The fragment part (after the <code>'#'</code> character).</p></td></tr></table><code>}</code></dt><dd><p>The type for HTTP(s) url.</p></dd></dl><dl><dt class="spec type" id="type-file_url"><a href="#type-file_url" class="anchor"></a><code><span class="keyword">type</span> file_url</code><code> = </code><code>{</code><table class="record"><tr id="type-file_url.fu_path" class="anchored"><td class="def field"><a href="#type-file_url.fu_path" class="anchor"></a><code>fu_path : <span>string list</span>;</code></td></tr><tr id="type-file_url.fu_path_string" class="anchored"><td class="def field"><a href="#type-file_url.fu_path_string" class="anchor"></a><code>fu_path_string : string;</code></td></tr><tr id="type-file_url.fu_arguments" class="anchored"><td class="def field"><a href="#type-file_url.fu_arguments" class="anchor"></a><code>fu_arguments : <span><span>(string * string)</span> list</span>;</code></td></tr><tr id="type-file_url.fu_fragment" class="anchored"><td class="def field"><a href="#type-file_url.fu_fragment" class="anchor"></a><code>fu_fragment : string;</code></td></tr></table><code>}</code></dt><dd><p>The type for local file urls.</p></dd></dl><dl><dt class="spec type" id="type-url"><a href="#type-url" class="anchor"></a><code><span class="keyword">type</span> url</code><code> = </code><table class="variant"><tr id="type-url.Http" class="anchored"><td class="def constructor"><a href="#type-url.Http" class="anchor"></a><code>| </code><code><span class="constructor">Http</span> <span class="keyword">of</span> <a href="index.html#type-http_url">http_url</a></code></td><td class="doc"><p>Non secure HTTP urls</p></td></tr><tr id="type-url.Https" class="anchored"><td class="def constructor"><a href="#type-url.Https" class="anchor"></a><code>| </code><code><span class="constructor">Https</span> <span class="keyword">of</span> <a href="index.html#type-http_url">http_url</a></code></td><td class="doc"><p>Secure HTTPS urls</p></td></tr><tr id="type-url.File" class="anchored"><td class="def constructor"><a href="#type-url.File" class="anchor"></a><code>| </code><code><span class="constructor">File</span> <span class="keyword">of</span> <a href="index.html#type-file_url">file_url</a></code></td><td class="doc"><p>Local files</p></td></tr></table></dt><dd><p>The type for urls.</p></dd></dl><dl><dt class="spec value" id="val-default_http_port"><a href="#val-default_http_port" class="anchor"></a><code><span class="keyword">val</span> default_http_port : int</code></dt><dd><p>The default port for <code>Http</code> communications (80).</p></dd></dl><dl><dt class="spec value" id="val-default_https_port"><a href="#val-default_https_port" class="anchor"></a><code><span class="keyword">val</span> default_https_port : int</code></dt><dd><p>The default port for <code>Https</code> communications (443).</p></dd></dl><dl><dt class="spec value" id="val-path_of_path_string"><a href="#val-path_of_path_string" class="anchor"></a><code><span class="keyword">val</span> path_of_path_string : string <span>&#45;&gt;</span> <span>string list</span></code></dt><dd><p><code>path_of_path_string s</code> splits <code>s</code> on each <code>&quot;/&quot;</code> character.</p></dd></dl><dl><dt class="spec value" id="val-encode_arguments"><a href="#val-encode_arguments" class="anchor"></a><code><span class="keyword">val</span> encode_arguments : <span><span>(string * string)</span> list</span> <span>&#45;&gt;</span> string</code></dt><dd><p><code>encode_arguments a</code> expects a list of pair of values of the form <code>(name,value)</code> were <code>name</code> is the name of an argument and <code>value</code> it's associated value.</p></dd></dl><dl><dt class="spec value" id="val-decode_arguments"><a href="#val-decode_arguments" class="anchor"></a><code><span class="keyword">val</span> decode_arguments : string <span>&#45;&gt;</span> <span><span>(string * string)</span> list</span></code></dt><dd><p><code>decode_arguments s</code> parses <code>s</code> returning the sliced-diced association list. <code>s</code> should be only the arguments part (after the '?') not the whole url.</p></dd></dl><aside><p>The following part allow one to handle Url object in a much higher level than what a string provides.</p></aside><dl><dt class="spec value" id="val-url_of_string"><a href="#val-url_of_string" class="anchor"></a><code><span class="keyword">val</span> url_of_string : string <span>&#45;&gt;</span> <span><a href="index.html#type-url">url</a> option</span></code></dt><dd><p><code>url_of_string s</code> parses <code>s</code> and builds a value of type <code>url</code> if <code>s</code> is not a valid url string, it returns <code>None</code>.</p></dd></dl><dl><dt class="spec value" id="val-string_of_url"><a href="#val-string_of_url" class="anchor"></a><code><span class="keyword">val</span> string_of_url : <a href="index.html#type-url">url</a> <span>&#45;&gt;</span> string</code></dt><dd><p><code>string_of_url u</code> returns a valid string representation of <code>u</code>. Note that * <code>string_of_url ((fun Some u -&gt; u) (url_of_string s))</code> is NOT necessarily * equal to <code>s</code>. However <code>url_of_string (string_of_url u) = u</code>.</p></dd></dl><dl><dt class="spec module" id="module-Current"><a href="#module-Current" class="anchor"></a><code><span class="keyword">module</span> <a href="Current/index.html">Current</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd><p>This module can be used to handle the Url associated to the current document.</p></dd></dl></div></body></html>