<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Js (js_of_ocaml.Js_of_ocaml.Js)</title><link rel="stylesheet" href="../../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 1.5.0"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> â€“ <a href="../../index.html">js_of_ocaml</a> &#x00BB; <a href="../index.html">Js_of_ocaml</a> &#x00BB; Js</nav><h1>Module <code>Js_of_ocaml.Js</code></h1><p>Javascript binding</p><p>This module provides types and functions to interoperate with Javascript values, and gives access to Javascript standard objects.</p><nav class="toc"><ul><li><a href="#dealing-with-null-and-undefined-values.">Dealing with <code>null</code> and <code>undefined</code> values.</a></li><li><a href="#types-for-specifying-method-and-properties-of-javascript-objects">Types for specifying method and properties of Javascript objects</a></li><li><a href="#object-constructors">Object constructors</a></li><li><a href="#callbacks-to-ocaml">Callbacks to OCaml</a></li><li><a href="#javascript-standard-objects">Javascript standard objects</a></li><li><a href="#standard-javascript-functions">Standard Javascript functions</a></li><li><a href="#conversion-functions-between-javascript-and-ocaml-types">Conversion functions between Javascript and OCaml types</a></li><li><a href="#convenience-coercion-functions">Convenience coercion functions</a></li><li><a href="#type-checking-operators.">Type checking operators.</a></li><li><a href="#debugging-operations.">Debugging operations.</a></li><li><a href="#export-functionality.">Export functionality.</a></li><li><a href="#unsafe-operations.">Unsafe operations.</a></li><li><a href="#deprecated-functions-and-types.">Deprecated functions and types.</a></li></ul></nav></header><section><header><h3 id="dealing-with-null-and-undefined-values."><a href="#dealing-with-null-and-undefined-values." class="anchor"></a>Dealing with <code>null</code> and <code>undefined</code> values.</h3></header><dl><dt class="spec type" id="type-opt"><a href="#type-opt" class="anchor"></a><code><span class="keyword">type</span> <span>+'a opt</span></code></dt><dd><p>Type of possibly null values.</p></dd></dl><dl><dt class="spec type" id="type-optdef"><a href="#type-optdef" class="anchor"></a><code><span class="keyword">type</span> <span>+'a optdef</span></code></dt><dd><p>Type of possibly undefined values.</p></dd></dl><dl><dt class="spec value" id="val-null"><a href="#val-null" class="anchor"></a><code><span class="keyword">val</span> null : <span><span class="type-var">'a</span> <a href="index.html#type-opt">opt</a></span></code></dt><dd><p>The <code>null</code> value.</p></dd></dl><dl><dt class="spec value" id="val-some"><a href="#val-some" class="anchor"></a><code><span class="keyword">val</span> some : <span class="type-var">'a</span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="index.html#type-opt">opt</a></span></code></dt><dd><p>Consider a value into a possibly null value.</p></dd></dl><dl><dt class="spec value" id="val-undefined"><a href="#val-undefined" class="anchor"></a><code><span class="keyword">val</span> undefined : <span><span class="type-var">'a</span> <a href="index.html#type-optdef">optdef</a></span></code></dt><dd><p>The <code>undefined</code> value</p></dd></dl><dl><dt class="spec value" id="val-def"><a href="#val-def" class="anchor"></a><code><span class="keyword">val</span> def : <span class="type-var">'a</span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="index.html#type-optdef">optdef</a></span></code></dt><dd><p>Consider a value into a possibly undefined value.</p></dd></dl><dl><dt class="spec module-type" id="module-type-OPT"><a href="#module-type-OPT" class="anchor"></a><code><span class="keyword">module</span> <span class="keyword">type</span> <a href="module-type-OPT/index.html">OPT</a> = <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd><p>Signatures of a set of standard functions for manipulating optional values.</p></dd></dl><dl><dt class="spec module" id="module-Opt"><a href="#module-Opt" class="anchor"></a><code><span class="keyword">module</span> <a href="Opt/index.html">Opt</a> : <a href="index.html#module-type-OPT">OPT</a> <span class="keyword">with</span> <span class="keyword">type</span> <span>'a <a href="module-type-OPT/index.html#type-t">t</a></span> = <span><span class="type-var">'a</span> <a href="index.html#type-opt">opt</a></span></code></dt><dd><p>Standard functions for manipulating possibly null values.</p></dd></dl><dl><dt class="spec module" id="module-Optdef"><a href="#module-Optdef" class="anchor"></a><code><span class="keyword">module</span> <a href="Optdef/index.html">Optdef</a> : <a href="index.html#module-type-OPT">OPT</a> <span class="keyword">with</span> <span class="keyword">type</span> <span>'a <a href="module-type-OPT/index.html#type-t">t</a></span> = <span><span class="type-var">'a</span> <a href="index.html#type-optdef">optdef</a></span></code></dt><dd><p>Standard functions for manipulating possibly undefined values.</p></dd></dl></section><section><header><h3 id="types-for-specifying-method-and-properties-of-javascript-objects"><a href="#types-for-specifying-method-and-properties-of-javascript-objects" class="anchor"></a>Types for specifying method and properties of Javascript objects</h3></header><dl><dt class="spec type" id="type-t"><a href="#type-t" class="anchor"></a><code><span class="keyword">type</span> <span>+'a t</span></code></dt><dd><p>Type of Javascript objects. The type parameter is used to specify more precisely an object.</p></dd></dl><dl><dt class="spec type" id="type-meth"><a href="#type-meth" class="anchor"></a><code><span class="keyword">type</span> <span>+'a meth</span></code></dt><dd><p>Type used to specify method types: a Javascript object <code>&lt;m : t1 -&gt; t2 -&gt; ... -&gt; tn -&gt; t Js.meth&gt; Js.t</code> has a Javascript method <code>m</code> expecting <i>n</i> arguments of types <code>t1</code> to <code>tn</code> and returns a value of type <code>t</code>.</p></dd></dl><dl><dt class="spec type" id="type-gen_prop"><a href="#type-gen_prop" class="anchor"></a><code><span class="keyword">type</span> <span>+'a gen_prop</span></code></dt><dd><p>Type used to specify the properties of Javascript objects. In practice you should rarely need this type directly, but should rather use the type abbreviations below instead.</p></dd></dl><dl><dt class="spec type" id="type-readonly_prop"><a href="#type-readonly_prop" class="anchor"></a><code><span class="keyword">type</span> <span>'a readonly_prop</span></code><code> = <span>&lt; get : <span class="type-var">'a</span>; &gt; <a href="index.html#type-gen_prop">gen_prop</a></span></code></dt><dd><p>Type of read-only properties: a Javascript object <code>&lt;p : t Js.readonly_prop&gt; Js.t</code> has a read-only property <code>p</code> of type <code>t</code>.</p></dd></dl><dl><dt class="spec type" id="type-writeonly_prop"><a href="#type-writeonly_prop" class="anchor"></a><code><span class="keyword">type</span> <span>'a writeonly_prop</span></code><code> = <span>&lt; set : <span class="type-var">'a</span> <span>&#45;&gt;</span> unit; &gt; <a href="index.html#type-gen_prop">gen_prop</a></span></code></dt><dd><p>Type of write-only properties: a Javascript object <code>&lt;p : t Js.writeonly_prop&gt; Js.t</code> has a write-only property <code>p</code> of type <code>t</code>.</p></dd></dl><dl><dt class="spec type" id="type-prop"><a href="#type-prop" class="anchor"></a><code><span class="keyword">type</span> <span>'a prop</span></code><code> = <span>&lt; get : <span class="type-var">'a</span>; set : <span class="type-var">'a</span> <span>&#45;&gt;</span> unit; &gt; <a href="index.html#type-gen_prop">gen_prop</a></span></code></dt><dd><p>Type of read/write properties: a Javascript object <code>&lt;p : t Js.writeonly_prop&gt; Js.t</code> has a read/write property <code>p</code> of type <code>t</code>.</p></dd></dl><dl><dt class="spec type" id="type-optdef_prop"><a href="#type-optdef_prop" class="anchor"></a><code><span class="keyword">type</span> <span>'a optdef_prop</span></code><code> = <span>&lt; get : <span><span class="type-var">'a</span> <a href="index.html#type-optdef">optdef</a></span>; set : <span class="type-var">'a</span> <span>&#45;&gt;</span> unit; &gt; <a href="index.html#type-gen_prop">gen_prop</a></span></code></dt><dd><p>Type of read/write properties that may be undefined: you can set them to a value of some type <code>t</code>, but if you read them, you will get a value of type <code>t optdef</code> (that may be <code>undefined</code>).</p></dd></dl></section><section><header><h3 id="object-constructors"><a href="#object-constructors" class="anchor"></a>Object constructors</h3></header><dl><dt class="spec type" id="type-constr"><a href="#type-constr" class="anchor"></a><code><span class="keyword">type</span> <span>+'a constr</span></code></dt><dd><p>A value of type <code>(t1 -&gt; ... -&gt; tn -&gt; t Js.t) Js.constr</code> is a Javascript constructor expecting <i>n</i> arguments of types <code>t1</code> to <code>tn</code> and returning a Javascript object of type <code>t Js.t</code>. Use the syntax extension <code>jsnew c (e1, ..., en)</code> to build an object using constructor <code>c</code> and arguments <code>e1</code> to <code>en</code>.</p></dd></dl></section><section><header><h3 id="callbacks-to-ocaml"><a href="#callbacks-to-ocaml" class="anchor"></a>Callbacks to OCaml</h3></header><dl><dt class="spec type" id="type-meth_callback"><a href="#type-meth_callback" class="anchor"></a><code><span class="keyword">type</span> <span>(-'a, +'b) meth_callback</span></code></dt><dd><p>Type of callback functions. A function of type <code>(u, t1 -&gt; ... -&gt; tn -&gt; t) meth_callback</code> can be called from Javascript with <code>this</code> bound to a value of type <code>u</code> and up to <i>n</i> arguments of types <code>t1</code> to <code>tn</code>. The system takes care of currification, so less than <i>n</i> arguments can be provided. As a special case, a callback of type <code>(t, unit -&gt; t) meth_callback</code> can be called from Javascript with no argument. It will behave as if it was called with a single argument of type <code>unit</code>.</p></dd></dl><dl><dt class="spec type" id="type-callback"><a href="#type-callback" class="anchor"></a><code><span class="keyword">type</span> <span>'a callback</span></code><code> = <span><span>(unit,Â <span class="type-var">'a</span>)</span> <a href="index.html#type-meth_callback">meth_callback</a></span></code></dt><dd><p>Type of callback functions intended to be called without a meaningful <code>this</code> implicit parameter.</p></dd></dl><dl><dt class="spec external" id="val-wrap_callback"><a href="#val-wrap_callback" class="anchor"></a><code><span class="keyword">val</span> wrap_callback : <span>(<span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'b</span>)</span> <span>&#45;&gt;</span> <span><span>(<span class="type-var">'c</span>,Â <span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'b</span>)</span> <a href="index.html#type-meth_callback">meth_callback</a></span></code></dt><dd><p>Wrap an OCaml function so that it can be invoked from Javascript.</p></dd></dl><dl><dt class="spec external" id="val-wrap_meth_callback"><a href="#val-wrap_meth_callback" class="anchor"></a><code><span class="keyword">val</span> wrap_meth_callback : <span>(<span class="type-var">'b</span> <span>&#45;&gt;</span> <span class="type-var">'a</span>)</span> <span>&#45;&gt;</span> <span><span>(<span class="type-var">'b</span>,Â <span class="type-var">'a</span>)</span> <a href="index.html#type-meth_callback">meth_callback</a></span></code></dt><dd><p>Wrap an OCaml function so that it can be invoked from Javascript. The first parameter of the function will be bound to the value of the <code>this</code> implicit parameter.</p></dd></dl></section><section><header><h3 id="javascript-standard-objects"><a href="#javascript-standard-objects" class="anchor"></a>Javascript standard objects</h3></header><dl><dt class="spec value" id="val-_true"><a href="#val-_true" class="anchor"></a><code><span class="keyword">val</span> _true : <span>bool <a href="index.html#type-t">t</a></span></code></dt><dd><p>Javascript <code>true</code> boolean.</p></dd></dl><dl><dt class="spec value" id="val-_false"><a href="#val-_false" class="anchor"></a><code><span class="keyword">val</span> _false : <span>bool <a href="index.html#type-t">t</a></span></code></dt><dd><p>Javascript <code>false</code> boolean.</p></dd></dl><dl><dt class="spec type" id="type-match_result_handle"><a href="#type-match_result_handle" class="anchor"></a><code><span class="keyword">type</span> match_result_handle</code></dt><dd><p>A handle to a match result. Use function <code>Js.match_result</code> to get the corresponding <code>MatchResult</code> object. (This type is used to resolved the mutual dependency between string and array type definitions.)</p></dd></dl><dl><dt class="spec type" id="type-string_array"><a href="#type-string_array" class="anchor"></a><code><span class="keyword">type</span> string_array</code></dt><dd><p>Opaque type for string arrays. You can get the actual <code>Array</code> object using function <code>Js.str_array</code>. (This type is used to resolved the mutual dependency between string and array type definitions.)</p></dd></dl><dl><dt class="spec class-type" id="class-type-js_string"><a href="#class-type-js_string" class="anchor"></a><code><span class="keyword">class</span> <span class="keyword">type</span>  <a href="class-type-js_string/index.html">js_string</a> = <span class="keyword">object</span> ... <span class="keyword">end</span></code></dt><dd><p>Specification of Javascript string objects.</p></dd></dl><dl><dt class="spec class-type" id="class-type-regExp"><a href="#class-type-regExp" class="anchor"></a><code><span class="keyword">and</span>  <a href="class-type-regExp/index.html">regExp</a> = <span class="keyword">object</span> ... <span class="keyword">end</span></code></dt><dd><p>Specification of Javascript regular expression objects.</p></dd></dl><dl><dt class="spec class-type" id="class-type-string_constr"><a href="#class-type-string_constr" class="anchor"></a><code><span class="keyword">class</span> <span class="keyword">type</span>  <a href="class-type-string_constr/index.html">string_constr</a> = <span class="keyword">object</span> ... <span class="keyword">end</span></code></dt><dd><p>Specification of the string constructor, considered as an object.</p></dd></dl><dl><dt class="spec value" id="val-string_constr"><a href="#val-string_constr" class="anchor"></a><code><span class="keyword">val</span> string_constr : <span><a href="class-type-string_constr/index.html">string_constr</a> <a href="index.html#type-t">t</a></span></code></dt><dd><p>The string constructor, as an object.</p></dd></dl><dl><dt class="spec value" id="val-regExp"><a href="#val-regExp" class="anchor"></a><code><span class="keyword">val</span> regExp : <span><span>(<span><a href="class-type-js_string/index.html">js_string</a> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><a href="class-type-regExp/index.html">regExp</a> <a href="index.html#type-t">t</a></span>)</span> <a href="index.html#type-constr">constr</a></span></code></dt><dd><p>Constructor of <code>RegExp</code> objects. The expression <code>jsnew regExp (s)</code> builds the regular expression specified by string <code>s</code>.</p></dd></dl><dl><dt class="spec value" id="val-regExp_withFlags"><a href="#val-regExp_withFlags" class="anchor"></a><code><span class="keyword">val</span> regExp_withFlags : <span><span>(<span><a href="class-type-js_string/index.html">js_string</a> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><a href="class-type-js_string/index.html">js_string</a> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><a href="class-type-regExp/index.html">regExp</a> <a href="index.html#type-t">t</a></span>)</span> <a href="index.html#type-constr">constr</a></span></code></dt><dd><p>Constructor of <code>RegExp</code> objects. The expression <code>jsnew regExp (s, f)</code> builds the regular expression specified by string <code>s</code> using flags <code>f</code>.</p></dd></dl><dl><dt class="spec value" id="val-regExp_copy"><a href="#val-regExp_copy" class="anchor"></a><code><span class="keyword">val</span> regExp_copy : <span><span>(<span><a href="class-type-regExp/index.html">regExp</a> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><a href="class-type-regExp/index.html">regExp</a> <a href="index.html#type-t">t</a></span>)</span> <a href="index.html#type-constr">constr</a></span></code></dt><dd><p>Constructor of <code>RegExp</code> objects. The expression <code>jsnew regExp (r)</code> builds a copy of regular expression <code>r</code>.</p></dd></dl><dl><dt class="spec class-type" id="class-type-js_array"><a href="#class-type-js_array" class="anchor"></a><code><span class="keyword">class</span> <span class="keyword">type</span> 'a <a href="class-type-js_array/index.html">js_array</a> = <span class="keyword">object</span> ... <span class="keyword">end</span></code></dt><dd><p>Specification of Javascript regular arrays. Use <code>Js.array_get</code> and <code>Js.array_set</code> to access and set array elements.</p></dd></dl><dl><dt class="spec value" id="val-object_keys"><a href="#val-object_keys" class="anchor"></a><code><span class="keyword">val</span> object_keys : <span><span class="type-var">'a</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><span><span><a href="class-type-js_string/index.html">js_string</a> <a href="index.html#type-t">t</a></span> <a href="class-type-js_array/index.html">js_array</a></span> <a href="index.html#type-t">t</a></span></code></dt><dd><p>Returns jsarray containing keys of the object as Object.keys does.</p></dd></dl><dl><dt class="spec value" id="val-array_empty"><a href="#val-array_empty" class="anchor"></a><code><span class="keyword">val</span> array_empty : <span><span><span><span class="type-var">'a</span> <a href="class-type-js_array/index.html">js_array</a></span> <a href="index.html#type-t">t</a></span> <a href="index.html#type-constr">constr</a></span></code></dt><dd><p>Constructor of <code>Array</code> objects. The expression <code>jsnew array_empty ()</code> returns an empty array.</p></dd></dl><dl><dt class="spec value" id="val-array_length"><a href="#val-array_length" class="anchor"></a><code><span class="keyword">val</span> array_length : <span><span>(int <span>&#45;&gt;</span> <span><span><span class="type-var">'a</span> <a href="class-type-js_array/index.html">js_array</a></span> <a href="index.html#type-t">t</a></span>)</span> <a href="index.html#type-constr">constr</a></span></code></dt><dd><p>Constructor of <code>Array</code> objects. The expression <code>jsnew array_length (l)</code> returns an array of length <code>l</code>.</p></dd></dl><dl><dt class="spec value" id="val-array_get"><a href="#val-array_get" class="anchor"></a><code><span class="keyword">val</span> array_get : <span><span><span class="type-var">'a</span> <a href="class-type-js_array/index.html">js_array</a></span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> int <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="index.html#type-optdef">optdef</a></span></code></dt><dd><p>Array access: <code>array_get a i</code> returns the element at index <code>i</code> of array <code>a</code>. Returns <code>undefined</code> if there is no element at this index.</p></dd></dl><dl><dt class="spec value" id="val-array_set"><a href="#val-array_set" class="anchor"></a><code><span class="keyword">val</span> array_set : <span><span><span class="type-var">'a</span> <a href="class-type-js_array/index.html">js_array</a></span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> int <span>&#45;&gt;</span> <span class="type-var">'a</span> <span>&#45;&gt;</span> unit</code></dt><dd><p>Array update: <code>array_set a i v</code> puts <code>v</code> at index <code>i</code> in array <code>a</code>.</p></dd></dl><dl><dt class="spec value" id="val-array_map"><a href="#val-array_map" class="anchor"></a><code><span class="keyword">val</span> array_map : <span>(<span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'b</span>)</span> <span>&#45;&gt;</span> <span><span><span class="type-var">'a</span> <a href="class-type-js_array/index.html">js_array</a></span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><span><span class="type-var">'b</span> <a href="class-type-js_array/index.html">js_array</a></span> <a href="index.html#type-t">t</a></span></code></dt><dd><p>Array map: <code>array_map f a</code> is <code>a##map(wrap_callback (fun elt idx arr -&gt; f elt))</code>.</p></dd></dl><dl><dt class="spec value" id="val-array_mapi"><a href="#val-array_mapi" class="anchor"></a><code><span class="keyword">val</span> array_mapi : <span>(int <span>&#45;&gt;</span> <span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'b</span>)</span> <span>&#45;&gt;</span> <span><span><span class="type-var">'a</span> <a href="class-type-js_array/index.html">js_array</a></span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><span><span class="type-var">'b</span> <a href="class-type-js_array/index.html">js_array</a></span> <a href="index.html#type-t">t</a></span></code></dt><dd><p>Array mapi: <code>array_mapi f a</code> is <code>a##map(wrap_callback (fun elt idx arr -&gt; f idx elt))</code>.</p></dd></dl><dl><dt class="spec class-type" id="class-type-match_result"><a href="#class-type-match_result" class="anchor"></a><code><span class="keyword">class</span> <span class="keyword">type</span>  <a href="class-type-match_result/index.html">match_result</a> = <span class="keyword">object</span> ... <span class="keyword">end</span></code></dt><dd><p>Specification of match result objects</p></dd></dl><dl><dt class="spec value" id="val-str_array"><a href="#val-str_array" class="anchor"></a><code><span class="keyword">val</span> str_array : <span><a href="index.html#type-string_array">string_array</a> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><span><span><a href="class-type-js_string/index.html">js_string</a> <a href="index.html#type-t">t</a></span> <a href="class-type-js_array/index.html">js_array</a></span> <a href="index.html#type-t">t</a></span></code></dt><dd><p>Convert an opaque <code>string_array t</code> object into an array of string. (Used to resolved the mutual dependency between string and array type definitions.)</p></dd></dl><dl><dt class="spec value" id="val-match_result"><a href="#val-match_result" class="anchor"></a><code><span class="keyword">val</span> match_result : <span><a href="index.html#type-match_result_handle">match_result_handle</a> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><a href="class-type-match_result/index.html">match_result</a> <a href="index.html#type-t">t</a></span></code></dt><dd><p>Convert a match result handle into a <code>MatchResult</code> object. (Used to resolved the mutual dependency between string and array type definitions.)</p></dd></dl><dl><dt class="spec class-type" id="class-type-number"><a href="#class-type-number" class="anchor"></a><code><span class="keyword">class</span> <span class="keyword">type</span>  <a href="class-type-number/index.html">number</a> = <span class="keyword">object</span> ... <span class="keyword">end</span></code></dt><dd><p>Specification of Javascript number objects.</p></dd></dl><dl><dt class="spec external" id="val-number_of_float"><a href="#val-number_of_float" class="anchor"></a><code><span class="keyword">val</span> number_of_float : float <span>&#45;&gt;</span> <span><a href="class-type-number/index.html">number</a> <a href="index.html#type-t">t</a></span></code></dt><dd><p>Conversion of OCaml floats to Javascript number objects.</p></dd></dl><dl><dt class="spec external" id="val-float_of_number"><a href="#val-float_of_number" class="anchor"></a><code><span class="keyword">val</span> float_of_number : <span><a href="class-type-number/index.html">number</a> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> float</code></dt><dd><p>Conversion of Javascript number objects to OCaml floats.</p></dd></dl><dl><dt class="spec class-type" id="class-type-date"><a href="#class-type-date" class="anchor"></a><code><span class="keyword">class</span> <span class="keyword">type</span>  <a href="class-type-date/index.html">date</a> = <span class="keyword">object</span> ... <span class="keyword">end</span></code></dt><dd><p>Specification of Javascript date objects.</p></dd></dl><dl><dt class="spec value" id="val-date_now"><a href="#val-date_now" class="anchor"></a><code><span class="keyword">val</span> date_now : <span><span><a href="class-type-date/index.html">date</a> <a href="index.html#type-t">t</a></span> <a href="index.html#type-constr">constr</a></span></code></dt><dd><p>Constructor of <code>Date</code> objects: <code>jsnew date_now ()</code> returns a <code>Date</code> object initialized with the current date.</p></dd></dl><dl><dt class="spec value" id="val-date_fromTimeValue"><a href="#val-date_fromTimeValue" class="anchor"></a><code><span class="keyword">val</span> date_fromTimeValue : <span><span>(float <span>&#45;&gt;</span> <span><a href="class-type-date/index.html">date</a> <a href="index.html#type-t">t</a></span>)</span> <a href="index.html#type-constr">constr</a></span></code></dt><dd><p>Constructor of <code>Date</code> objects: <code>jsnew date_fromTimeValue (t)</code> returns a <code>Date</code> object initialized with the time value <code>t</code>.</p></dd></dl><dl><dt class="spec value" id="val-date_month"><a href="#val-date_month" class="anchor"></a><code><span class="keyword">val</span> date_month : <span><span>(int <span>&#45;&gt;</span> int <span>&#45;&gt;</span> <span><a href="class-type-date/index.html">date</a> <a href="index.html#type-t">t</a></span>)</span> <a href="index.html#type-constr">constr</a></span></code></dt><dd><p>Constructor of <code>Date</code> objects: <code>jsnew date_fromTimeValue (y, m)</code> returns a <code>Date</code> object corresponding to year <code>y</code> and month <code>m</code>.</p></dd></dl><dl><dt class="spec value" id="val-date_day"><a href="#val-date_day" class="anchor"></a><code><span class="keyword">val</span> date_day : <span><span>(int <span>&#45;&gt;</span> int <span>&#45;&gt;</span> int <span>&#45;&gt;</span> <span><a href="class-type-date/index.html">date</a> <a href="index.html#type-t">t</a></span>)</span> <a href="index.html#type-constr">constr</a></span></code></dt><dd><p>Constructor of <code>Date</code> objects: <code>jsnew date_fromTimeValue (y, m, d)</code> returns a <code>Date</code> object corresponding to year <code>y</code>, month <code>m</code> and day <code>d</code>.</p></dd></dl><dl><dt class="spec value" id="val-date_hour"><a href="#val-date_hour" class="anchor"></a><code><span class="keyword">val</span> date_hour : <span><span>(int <span>&#45;&gt;</span> int <span>&#45;&gt;</span> int <span>&#45;&gt;</span> int <span>&#45;&gt;</span> <span><a href="class-type-date/index.html">date</a> <a href="index.html#type-t">t</a></span>)</span> <a href="index.html#type-constr">constr</a></span></code></dt><dd><p>Constructor of <code>Date</code> objects: <code>jsnew date_fromTimeValue (y, m, d, h)</code> returns a <code>Date</code> object corresponding to year <code>y</code> to hour <code>h</code>.</p></dd></dl><dl><dt class="spec value" id="val-date_min"><a href="#val-date_min" class="anchor"></a><code><span class="keyword">val</span> date_min : <span><span>(int <span>&#45;&gt;</span> int <span>&#45;&gt;</span> int <span>&#45;&gt;</span> int <span>&#45;&gt;</span> int <span>&#45;&gt;</span> <span><a href="class-type-date/index.html">date</a> <a href="index.html#type-t">t</a></span>)</span> <a href="index.html#type-constr">constr</a></span></code></dt><dd><p>Constructor of <code>Date</code> objects: <code>jsnew date_fromTimeValue (y, m, d, h, m')</code> returns a <code>Date</code> object corresponding to year <code>y</code> to minute <code>m'</code>.</p></dd></dl><dl><dt class="spec value" id="val-date_sec"><a href="#val-date_sec" class="anchor"></a><code><span class="keyword">val</span> date_sec : <span><span>(int <span>&#45;&gt;</span> int <span>&#45;&gt;</span> int <span>&#45;&gt;</span> int <span>&#45;&gt;</span> int <span>&#45;&gt;</span> int <span>&#45;&gt;</span> <span><a href="class-type-date/index.html">date</a> <a href="index.html#type-t">t</a></span>)</span> <a href="index.html#type-constr">constr</a></span></code></dt><dd><p>Constructor of <code>Date</code> objects: <code>jsnew date_fromTimeValue (y, m, d, h, m', s)</code> returns a <code>Date</code> object corresponding to year <code>y</code> to second <code>s</code>.</p></dd></dl><dl><dt class="spec value" id="val-date_ms"><a href="#val-date_ms" class="anchor"></a><code><span class="keyword">val</span> date_ms : <span><span>(int <span>&#45;&gt;</span> int <span>&#45;&gt;</span> int <span>&#45;&gt;</span> int <span>&#45;&gt;</span> int <span>&#45;&gt;</span> int <span>&#45;&gt;</span> int <span>&#45;&gt;</span> <span><a href="class-type-date/index.html">date</a> <a href="index.html#type-t">t</a></span>)</span> <a href="index.html#type-constr">constr</a></span></code></dt><dd><p>Constructor of <code>Date</code> objects: <code>jsnew date_fromTimeValue (y, m, d, h, m', s, ms)</code> returns a <code>Date</code> object corresponding to year <code>y</code> to millisecond <code>ms</code>.</p></dd></dl><dl><dt class="spec class-type" id="class-type-date_constr"><a href="#class-type-date_constr" class="anchor"></a><code><span class="keyword">class</span> <span class="keyword">type</span>  <a href="class-type-date_constr/index.html">date_constr</a> = <span class="keyword">object</span> ... <span class="keyword">end</span></code></dt><dd><p>Specification of the date constructor, considered as an object.</p></dd></dl><dl><dt class="spec value" id="val-date"><a href="#val-date" class="anchor"></a><code><span class="keyword">val</span> date : <span><a href="class-type-date_constr/index.html">date_constr</a> <a href="index.html#type-t">t</a></span></code></dt><dd><p>The date constructor, as an object.</p></dd></dl><dl><dt class="spec class-type" id="class-type-math"><a href="#class-type-math" class="anchor"></a><code><span class="keyword">class</span> <span class="keyword">type</span>  <a href="class-type-math/index.html">math</a> = <span class="keyword">object</span> ... <span class="keyword">end</span></code></dt><dd><p>Specification of Javascript math object.</p></dd></dl><dl><dt class="spec value" id="val-math"><a href="#val-math" class="anchor"></a><code><span class="keyword">val</span> math : <span><a href="class-type-math/index.html">math</a> <a href="index.html#type-t">t</a></span></code></dt><dd><p>The Math object</p></dd></dl><dl><dt class="spec class-type" id="class-type-error"><a href="#class-type-error" class="anchor"></a><code><span class="keyword">class</span> <span class="keyword">type</span>  <a href="class-type-error/index.html">error</a> = <span class="keyword">object</span> ... <span class="keyword">end</span></code></dt><dd><p>Specification of Javascript error object.</p></dd></dl><dl><dt class="spec value" id="val-error_constr"><a href="#val-error_constr" class="anchor"></a><code><span class="keyword">val</span> error_constr : <span><span>(<span><a href="class-type-js_string/index.html">js_string</a> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><a href="class-type-error/index.html">error</a> <a href="index.html#type-t">t</a></span>)</span> <a href="index.html#type-constr">constr</a></span></code></dt><dd><p>Constructor of <code>Error</code> objects: <code>jsnew error_constr (msg)</code> returns an <code>Error</code> object with the message <code>msg</code>.</p></dd></dl><dl><dt class="spec value" id="val-string_of_error"><a href="#val-string_of_error" class="anchor"></a><code><span class="keyword">val</span> string_of_error : <span><a href="class-type-error/index.html">error</a> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> string</code></dt><dt class="spec value" id="val-raise_js_error"><a href="#val-raise_js_error" class="anchor"></a><code><span class="keyword">val</span> raise_js_error : <span><a href="class-type-error/index.html">error</a> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span class="type-var">'a</span></code></dt></dl><dl><dt class="spec exception" id="exception-Error"><a href="#exception-Error" class="anchor"></a><code><span class="keyword">exception</span> </code><code><span class="exception">Error</span> <span class="keyword">of</span> <span><a href="class-type-error/index.html">error</a> <a href="index.html#type-t">t</a></span></code></dt><dd><p>The <code>Error</code> exception wrap javascript exceptions when caught by OCaml code. In case the javascript exception is not an instance of javascript <code>Error</code>, it will be serialized and wrapped into a <code>Failure</code> exception.</p></dd></dl><dl><dt class="spec class-type" id="class-type-json"><a href="#class-type-json" class="anchor"></a><code><span class="keyword">class</span> <span class="keyword">type</span>  <a href="class-type-json/index.html">json</a> = <span class="keyword">object</span> ... <span class="keyword">end</span></code></dt><dd><p>Specification of Javascript JSON object.</p></dd></dl><dl><dt class="spec value" id="val-_JSON"><a href="#val-_JSON" class="anchor"></a><code><span class="keyword">val</span> _JSON : <span><a href="class-type-json/index.html">json</a> <a href="index.html#type-t">t</a></span></code></dt><dd><p>JSON object</p></dd></dl></section><section><header><h3 id="standard-javascript-functions"><a href="#standard-javascript-functions" class="anchor"></a>Standard Javascript functions</h3></header><dl><dt class="spec value" id="val-decodeURI"><a href="#val-decodeURI" class="anchor"></a><code><span class="keyword">val</span> decodeURI : <span><a href="class-type-js_string/index.html">js_string</a> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><a href="class-type-js_string/index.html">js_string</a> <a href="index.html#type-t">t</a></span></code></dt><dd><p>Decode a URI: replace by the corresponding byte all escape sequences but the ones corresponding to a URI reserved character and convert the string from UTF-8 to UTF-16.</p></dd></dl><dl><dt class="spec value" id="val-decodeURIComponent"><a href="#val-decodeURIComponent" class="anchor"></a><code><span class="keyword">val</span> decodeURIComponent : <span><a href="class-type-js_string/index.html">js_string</a> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><a href="class-type-js_string/index.html">js_string</a> <a href="index.html#type-t">t</a></span></code></dt><dd><p>Decode a URIComponent: replace all escape sequences by the corresponding byte and convert the string from UTF-8 to UTF-16.</p></dd></dl><dl><dt class="spec value" id="val-encodeURI"><a href="#val-encodeURI" class="anchor"></a><code><span class="keyword">val</span> encodeURI : <span><a href="class-type-js_string/index.html">js_string</a> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><a href="class-type-js_string/index.html">js_string</a> <a href="index.html#type-t">t</a></span></code></dt><dd><p>Encode a URI: convert the string to UTF-8 and replace all unsafe bytes by the corresponding escape sequence.</p></dd></dl><dl><dt class="spec value" id="val-encodeURIComponent"><a href="#val-encodeURIComponent" class="anchor"></a><code><span class="keyword">val</span> encodeURIComponent : <span><a href="class-type-js_string/index.html">js_string</a> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><a href="class-type-js_string/index.html">js_string</a> <a href="index.html#type-t">t</a></span></code></dt><dd><p>Same as <code>encodeURI</code>, but also encode URI reserved characters.</p></dd></dl><dl><dt class="spec value" id="val-escape"><a href="#val-escape" class="anchor"></a><code><span class="keyword">val</span> escape : <span><a href="class-type-js_string/index.html">js_string</a> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><a href="class-type-js_string/index.html">js_string</a> <a href="index.html#type-t">t</a></span></code></dt><dd><p>Escape a string: unsafe UTF-16 code points are replaced by 2-digit and 4-digit escape sequences.</p></dd></dl><dl><dt class="spec value" id="val-unescape"><a href="#val-unescape" class="anchor"></a><code><span class="keyword">val</span> unescape : <span><a href="class-type-js_string/index.html">js_string</a> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><a href="class-type-js_string/index.html">js_string</a> <a href="index.html#type-t">t</a></span></code></dt><dd><p>Unescape a string: 2-digit and 4-digit escape sequences are replaced by the corresponding UTF-16 code point.</p></dd></dl><dl><dt class="spec value" id="val-isNaN"><a href="#val-isNaN" class="anchor"></a><code><span class="keyword">val</span> isNaN : <span class="type-var">'a</span> <span>&#45;&gt;</span> bool</code></dt><dt class="spec value" id="val-parseInt"><a href="#val-parseInt" class="anchor"></a><code><span class="keyword">val</span> parseInt : <span><a href="class-type-js_string/index.html">js_string</a> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> int</code></dt><dt class="spec value" id="val-parseFloat"><a href="#val-parseFloat" class="anchor"></a><code><span class="keyword">val</span> parseFloat : <span><a href="class-type-js_string/index.html">js_string</a> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> float</code></dt></dl></section><section><header><h3 id="conversion-functions-between-javascript-and-ocaml-types"><a href="#conversion-functions-between-javascript-and-ocaml-types" class="anchor"></a>Conversion functions between Javascript and OCaml types</h3></header><dl><dt class="spec external" id="val-bool"><a href="#val-bool" class="anchor"></a><code><span class="keyword">val</span> bool : bool <span>&#45;&gt;</span> <span>bool <a href="index.html#type-t">t</a></span></code></dt><dd><p>Conversion of booleans from OCaml to Javascript.</p></dd></dl><dl><dt class="spec external" id="val-to_bool"><a href="#val-to_bool" class="anchor"></a><code><span class="keyword">val</span> to_bool : <span>bool <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> bool</code></dt><dd><p>Conversion of booleans from Javascript to OCaml.</p></dd></dl><dl><dt class="spec external" id="val-string"><a href="#val-string" class="anchor"></a><code><span class="keyword">val</span> string : string <span>&#45;&gt;</span> <span><a href="class-type-js_string/index.html">js_string</a> <a href="index.html#type-t">t</a></span></code></dt><dd><p>Conversion of strings from OCaml to Javascript. (The OCaml string is considered to be encoded in UTF-8 and is converted to UTF-16.)</p></dd></dl><dl><dt class="spec external" id="val-to_string"><a href="#val-to_string" class="anchor"></a><code><span class="keyword">val</span> to_string : <span><a href="class-type-js_string/index.html">js_string</a> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> string</code></dt><dd><p>Conversion of strings from Javascript to OCaml.</p></dd></dl><dl><dt class="spec external" id="val-array"><a href="#val-array" class="anchor"></a><code><span class="keyword">val</span> array : <span><span class="type-var">'a</span> array</span> <span>&#45;&gt;</span> <span><span><span class="type-var">'a</span> <a href="class-type-js_array/index.html">js_array</a></span> <a href="index.html#type-t">t</a></span></code></dt><dd><p>Conversion of arrays from OCaml to Javascript.</p></dd></dl><dl><dt class="spec external" id="val-to_array"><a href="#val-to_array" class="anchor"></a><code><span class="keyword">val</span> to_array : <span><span><span class="type-var">'a</span> <a href="class-type-js_array/index.html">js_array</a></span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> array</span></code></dt><dd><p>Conversion of arrays from Javascript to OCaml.</p></dd></dl><dl><dt class="spec external" id="val-bytestring"><a href="#val-bytestring" class="anchor"></a><code><span class="keyword">val</span> bytestring : string <span>&#45;&gt;</span> <span><a href="class-type-js_string/index.html">js_string</a> <a href="index.html#type-t">t</a></span></code></dt><dd><p>Conversion of strings of bytes from OCaml to Javascript. (Each byte will be converted in an UTF-16 code point.)</p></dd></dl><dl><dt class="spec external" id="val-to_bytestring"><a href="#val-to_bytestring" class="anchor"></a><code><span class="keyword">val</span> to_bytestring : <span><a href="class-type-js_string/index.html">js_string</a> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> string</code></dt><dd><p>Conversion of strings of bytes from Javascript to OCaml. (The Javascript string should only contain UTF-16 code points below 255.)</p></dd></dl></section><section><header><h3 id="convenience-coercion-functions"><a href="#convenience-coercion-functions" class="anchor"></a>Convenience coercion functions</h3></header><dl><dt class="spec value" id="val-coerce"><a href="#val-coerce" class="anchor"></a><code><span class="keyword">val</span> coerce : <span class="type-var">'a</span> <span>&#45;&gt;</span> <span>(<span class="type-var">'a</span> <span>&#45;&gt;</span> <span><span class="type-var">'b</span> <a href="Opt/index.html#type-t">Opt.t</a></span>)</span> <span>&#45;&gt;</span> <span>(<span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'b</span>)</span> <span>&#45;&gt;</span> <span class="type-var">'b</span></code></dt><dd><p>Apply a possibly failing coercion function. <code>coerce v c f</code> attempts to apply coercion <code>c</code> to value <code>v</code>. If the coercion returns <code>null</code>, function <code>f</code> is called.</p></dd></dl><dl><dt class="spec value" id="val-coerce_opt"><a href="#val-coerce_opt" class="anchor"></a><code><span class="keyword">val</span> coerce_opt : <span><span class="type-var">'a</span> <a href="Opt/index.html#type-t">Opt.t</a></span> <span>&#45;&gt;</span> <span>(<span class="type-var">'a</span> <span>&#45;&gt;</span> <span><span class="type-var">'b</span> <a href="Opt/index.html#type-t">Opt.t</a></span>)</span> <span>&#45;&gt;</span> <span>(<span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'b</span>)</span> <span>&#45;&gt;</span> <span class="type-var">'b</span></code></dt><dd><p>Apply a possibly failing coercion function. <code>coerce_opt v c f</code> attempts to apply coercion <code>c</code> to value <code>v</code>. If <code>v</code> is <code>null</code> or the coercion returns <code>null</code>, function <code>f</code> is called. Typical usage is the following:</p><pre><code class="ml">Js.coerce_opt (Dom_html.document##getElementById id)
Dom_html.CoerceTo.div (fun _ -&gt; assert false)</code></pre></dd></dl></section><section><header><h3 id="type-checking-operators."><a href="#type-checking-operators." class="anchor"></a>Type checking operators.</h3></header><dl><dt class="spec external" id="val-typeof"><a href="#val-typeof" class="anchor"></a><code><span class="keyword">val</span> typeof : <span><span class="type-var">_</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><a href="class-type-js_string/index.html">js_string</a> <a href="index.html#type-t">t</a></span></code></dt><dd><p>Returns the type of a Javascript object.</p></dd></dl><dl><dt class="spec external" id="val-instanceof"><a href="#val-instanceof" class="anchor"></a><code><span class="keyword">val</span> instanceof : <span><span class="type-var">_</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><span class="type-var">_</span> <a href="index.html#type-constr">constr</a></span> <span>&#45;&gt;</span> bool</code></dt><dd><p>Tests whether a Javascript object is an instance of a given class.</p></dd></dl></section><section><header><h3 id="debugging-operations."><a href="#debugging-operations." class="anchor"></a>Debugging operations.</h3></header><dl><dt class="spec external" id="val-debugger"><a href="#val-debugger" class="anchor"></a><code><span class="keyword">val</span> debugger : unit <span>&#45;&gt;</span> unit</code></dt><dd><p>Invokes any available debugging functionality. If no debugging functionality is available, it has no effect. In practice, it will insert a &quot;debugger;&quot; statement in the generated javascript.</p></dd></dl></section><section><header><h3 id="export-functionality."><a href="#export-functionality." class="anchor"></a>Export functionality.</h3><p>Export values to <code>module.exports</code> if it exists or to the global object otherwise.</p></header><dl><dt class="spec value" id="val-export"><a href="#val-export" class="anchor"></a><code><span class="keyword">val</span> export : string <span>&#45;&gt;</span> <span class="type-var">'a</span> <span>&#45;&gt;</span> unit</code></dt><dd><p><code>export name value</code> export <code>name</code></p></dd></dl><dl><dt class="spec value" id="val-export_all"><a href="#val-export_all" class="anchor"></a><code><span class="keyword">val</span> export_all : <span><span class="type-var">'a</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> unit</code></dt><dd><p><code>export_all obj</code> export every key of <code>obj</code> object.</p><pre><code class="ml">export_all
  object%js
    method add x y = x +. y
    method abs x = abs_float x
    val zero = 0.
  end</code></pre></dd></dl></section><section><header><h3 id="unsafe-operations."><a href="#unsafe-operations." class="anchor"></a>Unsafe operations.</h3></header><dl><dt class="spec module" id="module-Unsafe"><a href="#module-Unsafe" class="anchor"></a><code><span class="keyword">module</span> <a href="Unsafe/index.html">Unsafe</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd><p>Unsafe Javascript operations</p></dd></dl></section><section><header><h3 id="deprecated-functions-and-types."><a href="#deprecated-functions-and-types." class="anchor"></a>Deprecated functions and types.</h3></header><dl><dt class="spec external" id="val-float"><a href="#val-float" class="anchor"></a><code><span class="keyword">val</span> float : float <span>&#45;&gt;</span> float</code></dt><dd><p>Conversion of OCaml floats to Javascript numbers.</p></dd></dl><dl><dt class="spec external" id="val-to_float"><a href="#val-to_float" class="anchor"></a><code><span class="keyword">val</span> to_float : float <span>&#45;&gt;</span> float</code></dt><dd><p>Conversion of Javascript numbers to OCaml floats.</p></dd></dl><dl><dt class="spec type" id="type-float_prop"><a href="#type-float_prop" class="anchor"></a><code><span class="keyword">type</span> float_prop</code><code> = <span>float <a href="index.html#type-prop">prop</a></span></code></dt><dd><p>Type of float properties.</p></dd></dl></section></div></body></html>