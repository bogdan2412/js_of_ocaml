<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Graphics_js (js_of_ocaml-lwt.Graphics_js)</title><link rel="stylesheet" href="../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 1.5.2"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> â€“ <a href="../index.html">js_of_ocaml-lwt</a> &#x00BB; Graphics_js</nav><h1>Module <code>Graphics_js</code></h1><p>Javascript binding for Graphics lib</p><nav class="toc"><ul><li><a href="#initializations">Initializations</a></li><li><a href="#mouse-and-keyboard-events">Mouse and keyboard events</a></li><li><a href="#mouse-and-keyboard-polling">Mouse and keyboard polling</a></li></ul></nav></header><div><div class="spec include"><div class="doc"><details open="open"><summary><span class="def"><code><span class="keyword">include</span> <span class="keyword">module</span> <span class="keyword">type</span> <span class="keyword">of</span> Graphics</code></span></summary><dl><dt class="spec exception" id="exception-Graphic_failure"><a href="#exception-Graphic_failure" class="anchor"></a><code><span class="keyword">exception</span> </code><code><span class="exception">Graphic_failure</span> <span class="keyword">of</span> string</code></dt></dl><dl><dt class="spec value" id="val-open_graph"><a href="#val-open_graph" class="anchor"></a><code><span class="keyword">val</span> open_graph : string <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-close_graph"><a href="#val-close_graph" class="anchor"></a><code><span class="keyword">val</span> close_graph : unit <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-set_window_title"><a href="#val-set_window_title" class="anchor"></a><code><span class="keyword">val</span> set_window_title : string <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-resize_window"><a href="#val-resize_window" class="anchor"></a><code><span class="keyword">val</span> resize_window : int <span>&#45;&gt;</span> int <span>&#45;&gt;</span> unit</code></dt></dl><dl><dt class="spec external" id="val-clear_graph"><a href="#val-clear_graph" class="anchor"></a><code><span class="keyword">val</span> clear_graph : unit <span>&#45;&gt;</span> unit</code></dt><dt class="spec external" id="val-size_x"><a href="#val-size_x" class="anchor"></a><code><span class="keyword">val</span> size_x : unit <span>&#45;&gt;</span> int</code></dt><dt class="spec external" id="val-size_y"><a href="#val-size_y" class="anchor"></a><code><span class="keyword">val</span> size_y : unit <span>&#45;&gt;</span> int</code></dt></dl><dl><dt class="spec type" id="type-color"><a href="#type-color" class="anchor"></a><code><span class="keyword">type</span> color</code><code> = int</code></dt></dl><dl><dt class="spec value" id="val-rgb"><a href="#val-rgb" class="anchor"></a><code><span class="keyword">val</span> rgb : int <span>&#45;&gt;</span> int <span>&#45;&gt;</span> int <span>&#45;&gt;</span> <a href="index.html#type-color">color</a></code></dt></dl><dl><dt class="spec external" id="val-set_color"><a href="#val-set_color" class="anchor"></a><code><span class="keyword">val</span> set_color : <a href="index.html#type-color">color</a> <span>&#45;&gt;</span> unit</code></dt></dl><dl><dt class="spec value" id="val-background"><a href="#val-background" class="anchor"></a><code><span class="keyword">val</span> background : <a href="index.html#type-color">color</a></code></dt><dt class="spec value" id="val-foreground"><a href="#val-foreground" class="anchor"></a><code><span class="keyword">val</span> foreground : <a href="index.html#type-color">color</a></code></dt><dt class="spec value" id="val-black"><a href="#val-black" class="anchor"></a><code><span class="keyword">val</span> black : <a href="index.html#type-color">color</a></code></dt><dt class="spec value" id="val-white"><a href="#val-white" class="anchor"></a><code><span class="keyword">val</span> white : <a href="index.html#type-color">color</a></code></dt><dt class="spec value" id="val-red"><a href="#val-red" class="anchor"></a><code><span class="keyword">val</span> red : <a href="index.html#type-color">color</a></code></dt><dt class="spec value" id="val-green"><a href="#val-green" class="anchor"></a><code><span class="keyword">val</span> green : <a href="index.html#type-color">color</a></code></dt><dt class="spec value" id="val-blue"><a href="#val-blue" class="anchor"></a><code><span class="keyword">val</span> blue : <a href="index.html#type-color">color</a></code></dt><dt class="spec value" id="val-yellow"><a href="#val-yellow" class="anchor"></a><code><span class="keyword">val</span> yellow : <a href="index.html#type-color">color</a></code></dt><dt class="spec value" id="val-cyan"><a href="#val-cyan" class="anchor"></a><code><span class="keyword">val</span> cyan : <a href="index.html#type-color">color</a></code></dt><dt class="spec value" id="val-magenta"><a href="#val-magenta" class="anchor"></a><code><span class="keyword">val</span> magenta : <a href="index.html#type-color">color</a></code></dt></dl><dl><dt class="spec external" id="val-plot"><a href="#val-plot" class="anchor"></a><code><span class="keyword">val</span> plot : int <span>&#45;&gt;</span> int <span>&#45;&gt;</span> unit</code></dt></dl><dl><dt class="spec value" id="val-plots"><a href="#val-plots" class="anchor"></a><code><span class="keyword">val</span> plots : <span><span>(int * int)</span> array</span> <span>&#45;&gt;</span> unit</code></dt></dl><dl><dt class="spec external" id="val-point_color"><a href="#val-point_color" class="anchor"></a><code><span class="keyword">val</span> point_color : int <span>&#45;&gt;</span> int <span>&#45;&gt;</span> <a href="index.html#type-color">color</a></code></dt><dt class="spec external" id="val-moveto"><a href="#val-moveto" class="anchor"></a><code><span class="keyword">val</span> moveto : int <span>&#45;&gt;</span> int <span>&#45;&gt;</span> unit</code></dt></dl><dl><dt class="spec value" id="val-rmoveto"><a href="#val-rmoveto" class="anchor"></a><code><span class="keyword">val</span> rmoveto : int <span>&#45;&gt;</span> int <span>&#45;&gt;</span> unit</code></dt></dl><dl><dt class="spec external" id="val-current_x"><a href="#val-current_x" class="anchor"></a><code><span class="keyword">val</span> current_x : unit <span>&#45;&gt;</span> int</code></dt><dt class="spec external" id="val-current_y"><a href="#val-current_y" class="anchor"></a><code><span class="keyword">val</span> current_y : unit <span>&#45;&gt;</span> int</code></dt></dl><dl><dt class="spec value" id="val-current_point"><a href="#val-current_point" class="anchor"></a><code><span class="keyword">val</span> current_point : unit <span>&#45;&gt;</span> int * int</code></dt></dl><dl><dt class="spec external" id="val-lineto"><a href="#val-lineto" class="anchor"></a><code><span class="keyword">val</span> lineto : int <span>&#45;&gt;</span> int <span>&#45;&gt;</span> unit</code></dt></dl><dl><dt class="spec value" id="val-rlineto"><a href="#val-rlineto" class="anchor"></a><code><span class="keyword">val</span> rlineto : int <span>&#45;&gt;</span> int <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-curveto"><a href="#val-curveto" class="anchor"></a><code><span class="keyword">val</span> curveto : <span>(int * int)</span> <span>&#45;&gt;</span> <span>(int * int)</span> <span>&#45;&gt;</span> <span>(int * int)</span> <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-draw_rect"><a href="#val-draw_rect" class="anchor"></a><code><span class="keyword">val</span> draw_rect : int <span>&#45;&gt;</span> int <span>&#45;&gt;</span> int <span>&#45;&gt;</span> int <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-draw_poly_line"><a href="#val-draw_poly_line" class="anchor"></a><code><span class="keyword">val</span> draw_poly_line : <span><span>(int * int)</span> array</span> <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-draw_poly"><a href="#val-draw_poly" class="anchor"></a><code><span class="keyword">val</span> draw_poly : <span><span>(int * int)</span> array</span> <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-draw_segments"><a href="#val-draw_segments" class="anchor"></a><code><span class="keyword">val</span> draw_segments : <span><span>(int * int * int * int)</span> array</span> <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-draw_arc"><a href="#val-draw_arc" class="anchor"></a><code><span class="keyword">val</span> draw_arc : int <span>&#45;&gt;</span> int <span>&#45;&gt;</span> int <span>&#45;&gt;</span> int <span>&#45;&gt;</span> int <span>&#45;&gt;</span> int <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-draw_ellipse"><a href="#val-draw_ellipse" class="anchor"></a><code><span class="keyword">val</span> draw_ellipse : int <span>&#45;&gt;</span> int <span>&#45;&gt;</span> int <span>&#45;&gt;</span> int <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-draw_circle"><a href="#val-draw_circle" class="anchor"></a><code><span class="keyword">val</span> draw_circle : int <span>&#45;&gt;</span> int <span>&#45;&gt;</span> int <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-set_line_width"><a href="#val-set_line_width" class="anchor"></a><code><span class="keyword">val</span> set_line_width : int <span>&#45;&gt;</span> unit</code></dt></dl><dl><dt class="spec external" id="val-draw_char"><a href="#val-draw_char" class="anchor"></a><code><span class="keyword">val</span> draw_char : char <span>&#45;&gt;</span> unit</code></dt><dt class="spec external" id="val-draw_string"><a href="#val-draw_string" class="anchor"></a><code><span class="keyword">val</span> draw_string : string <span>&#45;&gt;</span> unit</code></dt><dt class="spec external" id="val-set_font"><a href="#val-set_font" class="anchor"></a><code><span class="keyword">val</span> set_font : string <span>&#45;&gt;</span> unit</code></dt></dl><dl><dt class="spec value" id="val-set_text_size"><a href="#val-set_text_size" class="anchor"></a><code><span class="keyword">val</span> set_text_size : int <span>&#45;&gt;</span> unit</code></dt></dl><dl><dt class="spec external" id="val-text_size"><a href="#val-text_size" class="anchor"></a><code><span class="keyword">val</span> text_size : string <span>&#45;&gt;</span> int * int</code></dt></dl><dl><dt class="spec value" id="val-fill_rect"><a href="#val-fill_rect" class="anchor"></a><code><span class="keyword">val</span> fill_rect : int <span>&#45;&gt;</span> int <span>&#45;&gt;</span> int <span>&#45;&gt;</span> int <span>&#45;&gt;</span> unit</code></dt></dl><dl><dt class="spec external" id="val-fill_poly"><a href="#val-fill_poly" class="anchor"></a><code><span class="keyword">val</span> fill_poly : <span><span>(int * int)</span> array</span> <span>&#45;&gt;</span> unit</code></dt></dl><dl><dt class="spec value" id="val-fill_arc"><a href="#val-fill_arc" class="anchor"></a><code><span class="keyword">val</span> fill_arc : int <span>&#45;&gt;</span> int <span>&#45;&gt;</span> int <span>&#45;&gt;</span> int <span>&#45;&gt;</span> int <span>&#45;&gt;</span> int <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-fill_ellipse"><a href="#val-fill_ellipse" class="anchor"></a><code><span class="keyword">val</span> fill_ellipse : int <span>&#45;&gt;</span> int <span>&#45;&gt;</span> int <span>&#45;&gt;</span> int <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-fill_circle"><a href="#val-fill_circle" class="anchor"></a><code><span class="keyword">val</span> fill_circle : int <span>&#45;&gt;</span> int <span>&#45;&gt;</span> int <span>&#45;&gt;</span> unit</code></dt></dl><dl><dt class="spec type" id="type-image"><a href="#type-image" class="anchor"></a><code><span class="keyword">type</span> image</code></dt></dl><dl><dt class="spec value" id="val-transp"><a href="#val-transp" class="anchor"></a><code><span class="keyword">val</span> transp : <a href="index.html#type-color">color</a></code></dt></dl><dl><dt class="spec external" id="val-make_image"><a href="#val-make_image" class="anchor"></a><code><span class="keyword">val</span> make_image : <span><span><a href="index.html#type-color">color</a> array</span> array</span> <span>&#45;&gt;</span> <a href="index.html#type-image">image</a></code></dt><dt class="spec external" id="val-dump_image"><a href="#val-dump_image" class="anchor"></a><code><span class="keyword">val</span> dump_image : <a href="index.html#type-image">image</a> <span>&#45;&gt;</span> <span><span><a href="index.html#type-color">color</a> array</span> array</span></code></dt><dt class="spec external" id="val-draw_image"><a href="#val-draw_image" class="anchor"></a><code><span class="keyword">val</span> draw_image : <a href="index.html#type-image">image</a> <span>&#45;&gt;</span> int <span>&#45;&gt;</span> int <span>&#45;&gt;</span> unit</code></dt></dl><dl><dt class="spec value" id="val-get_image"><a href="#val-get_image" class="anchor"></a><code><span class="keyword">val</span> get_image : int <span>&#45;&gt;</span> int <span>&#45;&gt;</span> int <span>&#45;&gt;</span> int <span>&#45;&gt;</span> <a href="index.html#type-image">image</a></code></dt></dl><dl><dt class="spec external" id="val-create_image"><a href="#val-create_image" class="anchor"></a><code><span class="keyword">val</span> create_image : int <span>&#45;&gt;</span> int <span>&#45;&gt;</span> <a href="index.html#type-image">image</a></code></dt><dt class="spec external" id="val-blit_image"><a href="#val-blit_image" class="anchor"></a><code><span class="keyword">val</span> blit_image : <a href="index.html#type-image">image</a> <span>&#45;&gt;</span> int <span>&#45;&gt;</span> int <span>&#45;&gt;</span> unit</code></dt></dl><dl><dt class="spec type" id="type-status"><a href="#type-status" class="anchor"></a><code><span class="keyword">type</span> status</code><code> = </code><code>{</code><table class="record"><tr id="type-status.mouse_x" class="anchored"><td class="def field"><a href="#type-status.mouse_x" class="anchor"></a><code>mouse_x : int;</code></td></tr><tr id="type-status.mouse_y" class="anchored"><td class="def field"><a href="#type-status.mouse_y" class="anchor"></a><code>mouse_y : int;</code></td></tr><tr id="type-status.button" class="anchored"><td class="def field"><a href="#type-status.button" class="anchor"></a><code>button : bool;</code></td></tr><tr id="type-status.keypressed" class="anchored"><td class="def field"><a href="#type-status.keypressed" class="anchor"></a><code>keypressed : bool;</code></td></tr><tr id="type-status.key" class="anchored"><td class="def field"><a href="#type-status.key" class="anchor"></a><code>key : char;</code></td></tr></table><code>}</code></dt><dt class="spec type" id="type-event"><a href="#type-event" class="anchor"></a><code><span class="keyword">type</span> event</code><code> = </code><table class="variant"><tr id="type-event.Button_down" class="anchored"><td class="def constructor"><a href="#type-event.Button_down" class="anchor"></a><code>| </code><code><span class="constructor">Button_down</span></code></td></tr><tr id="type-event.Button_up" class="anchored"><td class="def constructor"><a href="#type-event.Button_up" class="anchor"></a><code>| </code><code><span class="constructor">Button_up</span></code></td></tr><tr id="type-event.Key_pressed" class="anchored"><td class="def constructor"><a href="#type-event.Key_pressed" class="anchor"></a><code>| </code><code><span class="constructor">Key_pressed</span></code></td></tr><tr id="type-event.Mouse_motion" class="anchored"><td class="def constructor"><a href="#type-event.Mouse_motion" class="anchor"></a><code>| </code><code><span class="constructor">Mouse_motion</span></code></td></tr><tr id="type-event.Poll" class="anchored"><td class="def constructor"><a href="#type-event.Poll" class="anchor"></a><code>| </code><code><span class="constructor">Poll</span></code></td></tr></table></dt></dl><dl><dt class="spec external" id="val-wait_next_event"><a href="#val-wait_next_event" class="anchor"></a><code><span class="keyword">val</span> wait_next_event : <span><a href="index.html#type-event">event</a> list</span> <span>&#45;&gt;</span> <a href="index.html#type-status">status</a></code></dt></dl><dl><dt class="spec value" id="val-loop_at_exit"><a href="#val-loop_at_exit" class="anchor"></a><code><span class="keyword">val</span> loop_at_exit : <span><a href="index.html#type-event">event</a> list</span> <span>&#45;&gt;</span> <span>(<a href="index.html#type-status">status</a> <span>&#45;&gt;</span> unit)</span> <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-mouse_pos"><a href="#val-mouse_pos" class="anchor"></a><code><span class="keyword">val</span> mouse_pos : unit <span>&#45;&gt;</span> int * int</code></dt><dt class="spec value" id="val-button_down"><a href="#val-button_down" class="anchor"></a><code><span class="keyword">val</span> button_down : unit <span>&#45;&gt;</span> bool</code></dt><dt class="spec value" id="val-read_key"><a href="#val-read_key" class="anchor"></a><code><span class="keyword">val</span> read_key : unit <span>&#45;&gt;</span> char</code></dt><dt class="spec value" id="val-key_pressed"><a href="#val-key_pressed" class="anchor"></a><code><span class="keyword">val</span> key_pressed : unit <span>&#45;&gt;</span> bool</code></dt></dl><dl><dt class="spec external" id="val-sound"><a href="#val-sound" class="anchor"></a><code><span class="keyword">val</span> sound : int <span>&#45;&gt;</span> int <span>&#45;&gt;</span> unit</code></dt></dl><dl><dt class="spec value" id="val-auto_synchronize"><a href="#val-auto_synchronize" class="anchor"></a><code><span class="keyword">val</span> auto_synchronize : bool <span>&#45;&gt;</span> unit</code></dt></dl><dl><dt class="spec external" id="val-synchronize"><a href="#val-synchronize" class="anchor"></a><code><span class="keyword">val</span> synchronize : unit <span>&#45;&gt;</span> unit</code></dt><dt class="spec external" id="val-display_mode"><a href="#val-display_mode" class="anchor"></a><code><span class="keyword">val</span> display_mode : bool <span>&#45;&gt;</span> unit</code></dt><dt class="spec external" id="val-remember_mode"><a href="#val-remember_mode" class="anchor"></a><code><span class="keyword">val</span> remember_mode : bool <span>&#45;&gt;</span> unit</code></dt></dl></details></div></div></div><section><header><h3 id="initializations"><a href="#initializations" class="anchor"></a>Initializations</h3></header><dl><dt class="spec type" id="type-context"><a href="#type-context" class="anchor"></a><code><span class="keyword">type</span> context</code></dt><dd><p>type of a graphic context</p></dd></dl><dl><dt class="spec value" id="val-open_graph"><a href="#val-open_graph" class="anchor"></a><code><span class="keyword">val</span> open_graph : string <span>&#45;&gt;</span> unit</code></dt><dd><p>Open a graphics window. The graphics window is cleared and the current point is set to (0, 0). The string argument is used to pass optional information on the desired graphics mode, the graphics window size, and so on. Specification can be found at http://www.w3schools.com/jsref/met_win_open.asp. Note: an extra specification is available, &quot;target&quot;, to specifies the target attribute or the name of the window.</p></dd></dl><dl><dt class="spec value" id="val-open_canvas"><a href="#val-open_canvas" class="anchor"></a><code><span class="keyword">val</span> open_canvas : <span><a href="../../js_of_ocaml/Js_of_ocaml/Dom_html/class-type-canvasElement/index.html">Js_of_ocaml.Dom_html.canvasElement</a> <a href="../../js_of_ocaml/Js_of_ocaml/Js/index.html#type-t">Js_of_ocaml.Js.t</a></span> <span>&#45;&gt;</span> unit</code></dt><dd><p>use a canvas to setup the current context</p></dd></dl><dl><dt class="spec value" id="val-get_context"><a href="#val-get_context" class="anchor"></a><code><span class="keyword">val</span> get_context : unit <span>&#45;&gt;</span> <a href="index.html#type-context">context</a></code></dt><dd><p>Get the current context</p></dd></dl><dl><dt class="spec value" id="val-set_context"><a href="#val-set_context" class="anchor"></a><code><span class="keyword">val</span> set_context : <a href="index.html#type-context">context</a> <span>&#45;&gt;</span> unit</code></dt><dd><p>Set the current context</p></dd></dl></section><section><header><h3 id="mouse-and-keyboard-events"><a href="#mouse-and-keyboard-events" class="anchor"></a>Mouse and keyboard events</h3></header><dl><dt class="spec value" id="val-loop"><a href="#val-loop" class="anchor"></a><code><span class="keyword">val</span> loop : <span><a href="index.html#type-event">event</a> list</span> <span>&#45;&gt;</span> <span>(<a href="index.html#type-status">status</a> <span>&#45;&gt;</span> unit)</span> <span>&#45;&gt;</span> unit</code></dt><dd><p>Loops forever and listen to the given events. Those events automatically returns a status record, which is used by the function given in argument.</p></dd></dl></section><section><header><h3 id="mouse-and-keyboard-polling"><a href="#mouse-and-keyboard-polling" class="anchor"></a>Mouse and keyboard polling</h3></header><dl><dt class="spec value" id="val-mouse_pos"><a href="#val-mouse_pos" class="anchor"></a><code><span class="keyword">val</span> mouse_pos : unit <span>&#45;&gt;</span> <span><span>(int * int)</span> Lwt.t</span></code></dt><dd><p>Return the position of the mouse cursor, relative to the graphics window. If the mouse cursor is outside of the graphics window, <code>mouse_pos()</code> returns a point outside of the range <code>0..size_x()-1, 0..size_y()-1</code>.</p></dd></dl><dl><dt class="spec value" id="val-button_down"><a href="#val-button_down" class="anchor"></a><code><span class="keyword">val</span> button_down : unit <span>&#45;&gt;</span> <span>bool Lwt.t</span></code></dt><dd><p>Return <code>true</code> if the mouse button is pressed, <code>false</code> otherwise.</p></dd></dl><dl><dt class="spec value" id="val-read_key"><a href="#val-read_key" class="anchor"></a><code><span class="keyword">val</span> read_key : unit <span>&#45;&gt;</span> <span>char Lwt.t</span></code></dt><dd><p>Wait for a key to be pressed, and return the corresponding character. Keypresses are queued.</p></dd></dl></section></div></body></html>